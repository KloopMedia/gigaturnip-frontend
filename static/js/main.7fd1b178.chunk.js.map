{"version":3,"sources":["util/Firebase.js","components/nodes/CustomNode.tsx","components/nodes/LogicNode.tsx","components/nodes/StageNode.tsx","components/sidebar/Sidebar.tsx","util/Axios.js","util/Urls.js","components/graph/Graph.tsx","components/custom-widgets/file-widget/CustomFileWidget.tsx","components/form-builders/PreviewStage.tsx","components/custom-widgets/file-widget/CustomFileType.tsx","components/form-builders/StageBuilder.tsx","components/form-builders/GetFormFields.js","components/form-builders/LogicBuilder.tsx","components/actions/Actions.tsx","components/task/Task.tsx","util/Auth.js","components/appbar/Appbar.tsx","components/chains/ChainCard.tsx","components/chains/Dialog.tsx","components/chains/Chains.tsx","components/campaigns/CampaignCard.tsx","components/campaigns/Dialog.tsx","components/campaigns/Campaigns.tsx","components/appbar/SimpleAppbar.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","provider","auth","GoogleAuthProvider","firestore","settings","ignoreUndefinedProperties","signInWithGoogle","setCustomParameters","prompt","signInWithPopup","signOut","useStyles","makeStyles","theme","createStyles","root","background","borderColor","borderWidth","borderStyle","borderRadius","fontSize","width","textAlign","padding","CustomNode","data","style","classes","Grid","className","label","type","position","Position","Top","Bottom","customNodeStyles","CustomLogicNode","CustomStageNode","Sidebar","useState","draggable","setDraggable","formResponses","setFormResponses","useEffect","onDragStart","event","nodeLabel","nodeType","console","log","JSON","stringify","dataTransfer","setData","effectAllowed","onDragEnd","undefined","marginRight","schema","formData","onChange","e","color","display","justifyContent","alignItems","instance","axios","create","baseURL","interceptors","request","use","config","token","localStorage","getItem","headers","error","Promise","reject","campaignsUrl","chainsUrl","taskstagesUrl","conditionalstagesUrl","tasksUrl","DnDFlow","reactFlowWrapper","useRef","history","useHistory","useParams","chainId","campaignId","reactFlowInstance","setReactFlowInstance","elements","setElements","all","get","then","results","stageNodes","logicNodes","forEach","node","allNodes","filter","chain","nodes","map","id","toString","x","parseFloat","x_pos","y","y_pos","name","stage","in_stages","length","sourceId","edge","source","target","arrowHeadType","els","addEdge","getNode","pop","getTypeUrl","onConnect","params","a","newParams","targetNode","sourceNode","url","res","catch","err","connections","parsed","connection","patch","out_stages","removeConnections","oldConnections","newConnections","connectionsOut","onDrop","preventDefault","reactFlowBounds","current","getBoundingClientRect","transfer","getData","project","clientX","left","clientY","top","parsedData","parse","createNode","newNode","es","concat","updateNode","parseInt","post","onElementDoubleClick","element","location","pathname","push","nodeTypes","LOGIC","STAGE","ref","onElementsRemove","elementsToRemove","nodeIdsToRemove","n","edgeElement","includes","hasOwnProperty","delete","removeElements","onNodeDoubleClick","onEdgeDoubleClick","onLoad","_reactFlowInstance","onDragOver","dropEffect","onNodeDragStop","height","CustomFileWidget","props","files","setFiles","lFiles","multiple","allowMultipleFiles","file","i","filename","progress","Preview","jsonSchema","uiSchema","json_schema","ui_schema","stage_data","widgets","minWidth","margin","onSubmit","TextField","multiline","fullWidth","defaultValue","variant","InputProps","readOnly","value","marginTop","marginBottom","Button","onClick","navigator","clipboard","writeText","alert","CustomFileType","displayName","matchIf","types","widget","defaultDataSchema","defaultUiSchema","Builder","setSchema","setUiSchema","StageOptions","optionsSchema","preview","setPreview","options","parse_json_schema","parse_ui_schema","IconButton","float","p","PreviewStage","uischema","newSchema","newUiSchema","mods","customFormInputs","getFormFields","retrievedSchema","retrieveSchema","pathSchema","toPathSchema","getFieldNames","getAllPaths","_obj","acc","paths","Object","keys","key","newPaths","path","__rjsf_additionalProperties","$name","replace","formValue","_get","_isEmpty","fieldNames","ready","setReady","fields","setFields","logic_array","items","connectedStages","setConnectedStages","isPingPong","setIsPingPong","getStage","stageId","taskStage","getConnectedStages","ids","connId","currentStage","conditions","connectedOutIds","connOutStages","connectedIds","connStages","stageObject","values","sc","GetFormFields","title","properties","field","enum","condition","dependencies","required","FormControlLabel","control","Checkbox","checked","is_ping_pong","formControl","spacing","selectEmpty","handleCreateTask","split","caseData","case","taskData","container","justify","component","item","task","responses","setFormData","AuthContext","React","createContext","AuthProvider","children","currentUser","setCurrentUser","onAuthStateChanged","user","getIdToken","idToken","setItem","onIdTokenChanged","Provider","drawerWidth","appBar","zIndex","drawer","transition","transitions","easing","sharp","duration","leavingScreen","appBarShift","marginLeft","enteringScreen","menuButton","hide","flexShrink","whiteSpace","drawerOpen","drawerClose","overflowX","breakpoints","up","toolbar","mixins","content","flexGrow","select","selectIcon","fill","Appbar","useTheme","useContext","open","setOpen","campaign","setCampaign","allCampaigns","setAllCampaigns","CssBaseline","AppBar","clsx","Toolbar","aria-label","Typography","noWrap","FormControl","size","Select","autoWidth","labelId","disableUnderline","inputProps","icon","camp","MenuItem","Drawer","paper","direction","Divider","List","ListItem","button","page","ListItemIcon","ListItemText","primary","extra","ChainCard","description","Card","CardContent","gutterBottom","CardActions","avatar","backgroundColor","blue","AddChainDialog","onClose","onSave","setName","setDescription","handleClose","Dialog","aria-labelledby","DialogTitle","DialogContent","rows","DialogActions","parsedCampaign","chains","setChains","filtered","handleAddChain","window","reload","startIcon","AddCampaignDialog","campaigns","setCampaigns","handleCampaignAdd","App","exact","StageBuilder","LogicBuilder","Task","Actions","Chains","Graph","SimpleAppbar","Campaigns","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7fd1b178.chunk.js","sourcesContent":["import firebase from 'firebase';\n\n\nconst firebaseConfig = {\n    apiKey: \"AIzaSyCXiwOUNsbzKH7sbSAZrqA9f7VOeCMdUOQ\",\n    authDomain: \"gigaturnip-b6b5b.firebaseapp.com\",\n    projectId: \"gigaturnip-b6b5b\",\n    storageBucket: \"gigaturnip-b6b5b.appspot.com\",\n    messagingSenderId: \"414429242328\",\n    appId: \"1:414429242328:web:a4685f5ac6895ea767c8ad\",\n    measurementId: \"G-Y8JTEJMTET\"\n};\n// Initialize Firebase\nfirebase.initializeApp(firebaseConfig);\n// const db = firebase.firestore();\n// if (window.location.hostname === \"localhost\") {\n//   db.useEmulator(\"localhost\", 8080);\n// }\n\nconst provider = new firebase.auth.GoogleAuthProvider();\nfirebase.firestore().settings({\n    ignoreUndefinedProperties: true,\n})\nexport const signInWithGoogle = () => {\n    provider.setCustomParameters({\n        prompt: 'select_account'\n    });\n    firebase.auth().signInWithPopup(provider);\n};\n\nexport const signOut = () => {\n    firebase.auth().signOut()\n}\n\nexport default firebase;","import React from 'react';\nimport {Handle, Position} from 'react-flow-renderer';\nimport {createStyles, Grid, makeStyles, Theme} from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            background: '#FFF',\n            borderColor: '#000',\n            borderWidth: '1px',\n            borderStyle: 'solid',\n            borderRadius: '3px',\n            fontSize: '12px',\n            width: '150px',\n            textAlign: 'center',\n            padding: 10\n        },\n    }));\n\ntype NodeProps = { data: {label: string}, style: object }\n\nconst CustomNode = ({data, style}: NodeProps) => {\n    const classes = useStyles();\n\n    return (\n        <Grid className={classes.root} style={style}>\n            <div>{data.label}</div>\n            <Handle\n                type=\"target\"\n                position={Position.Top}\n                style={{borderRadius: '100%'}}\n            />\n            <Handle\n                type=\"source\"\n                position={Position.Bottom}\n                style={{borderRadius: '100%'}}\n            />\n        </Grid>\n    );\n};\n\nexport default CustomNode","import React from 'react';\nimport CustomNode from \"./CustomNode\";\n\nconst customNodeStyles = {\n  borderColor: '#0041d0'\n};\n\ntype NodeProps = { data: {label: string} }\n\nconst CustomLogicNode = ({ data }: NodeProps) => <CustomNode data={data} style={customNodeStyles} />;\n\nexport default CustomLogicNode","import React from 'react';\nimport CustomNode from \"./CustomNode\";\n\nconst customNodeStyles = {\n  borderColor: '#32CD32'\n};\n\ntype NodeProps = { data: {label: string} }\n\nconst CustomStageNode = ({ data }: NodeProps) => <CustomNode data={data} style={customNodeStyles} />;\n\nexport default CustomStageNode","import React, {useEffect, useState} from 'react';\nimport firebase from '../../util/Firebase'\nimport Form from \"@rjsf/bootstrap-4\";\nimport {JSONSchema7} from \"json-schema\";\n\nimport schema from '../../json-schema/SidebarSchema.json'\n\ntype FormResponsesProps = { label: string }\n\nconst Sidebar = () => {\n    const [draggable, setDraggable] = useState(false)\n    const [formResponses, setFormResponses] = useState<FormResponsesProps | undefined>()\n\n    useEffect(() => {\n\n        if (formResponses && formResponses.label && formResponses.label !== '') {\n            setDraggable(true)\n        } else {\n            setDraggable(false)\n        }\n    }, [formResponses])\n\n    const onDragStart = (event: { dataTransfer: DataTransfer }, nodeLabel: string, nodeType: string) => {\n        console.log(nodeLabel, nodeType)\n        let data = JSON.stringify({...formResponses, type: nodeType})\n        event.dataTransfer.setData('application/reactflow', data);\n        event.dataTransfer.effectAllowed = 'move';\n    };\n\n    const onDragEnd = () => {\n        setFormResponses(undefined)\n    }\n\n    return (\n        <aside>\n            <div className=\"description\">You can drag these nodes to the pane on the right.</div>\n            <div style={{marginRight: 5}}>\n                <Form schema={schema as JSONSchema7} formData={formResponses} onChange={(e) => setFormResponses(e.formData)}> </Form>\n            </div>\n            <div draggable={false} style={{\n                color: 'red',\n                display: 'flex',\n                justifyContent: 'center',\n                alignItems: 'center',\n                padding: 10\n            }}>{!draggable && 'Enter Label to drag the node'}</div>\n            <div className=\"dndnode stage\" onDragEnd={onDragEnd}\n                 onDragStart={(event) => onDragStart(event, formResponses ? formResponses.label : '', 'STAGE')} draggable={draggable}>\n                Stage Node\n            </div>\n            <div className=\"dndnode logic\" onDragEnd={onDragEnd}\n                 onDragStart={(event) => onDragStart(event, formResponses ? formResponses.label : '', 'LOGIC')} draggable={draggable}>\n                Logic Node\n            </div>\n        </aside>\n    );\n};\n\nexport default Sidebar","import axios from \"axios\";\nimport firebase from './Firebase'\n\n\nconst instance = axios.create({\n    baseURL: \"http://127.0.0.1:8000\"\n});\n\ninstance.interceptors.request.use(\n    function (config) {\n        const token = localStorage.getItem(\"token\");\n        // const dbRequest = window.indexedDB.open(\"firebaseLocalStorageDb\");\n        // dbRequest.onsuccess = () => {\n        //     const db = dbRequest.result;\n        //     console.log(db)\n        //     const store = 'firebaseLocalStorage';\n        //     const tx = db.transaction(store);\n        //     console.log(tx)\n        //     const req = tx.objectStore(store).getAll();\n        //     req.onsuccess = () => {\n        //         console.log(req.result)\n        //         const currentSession = req.result.filter(se => se.value.authDomain === \"gigaturnip-b6b5b.firebaseapp.com\").pop()\n        //         console.log(currentSession)\n        //         const token = currentSession.value.stsTokenManager.accessToken\n        //         console.log(token)\n        //         if (token) {\n        //             config.headers[\"Authorization\"] = 'JWT ' + token;\n        //         }\n        //     };\n        // }\n\n        if (token) {\n            config.headers[\"Authorization\"] = 'JWT ' + token;\n        }\n        return config;\n    },\n    function (error) {\n        return Promise.reject(error);\n    }\n);\n\nexport default instance;","const baseUrl = \"http://127.0.0.1:8000/\"\nconst campaignsUrl = \"api/v1/campaigns/\"\nconst chainsUrl = \"api/v1/chains/\"\nconst taskstagesUrl = \"api/v1/taskstages/\"\nconst webhookstagesUrl = \"api/v1/webhookstages/\"\nconst conditionalstagesUrl = \"api/v1/conditionalstages/\"\nconst casesUrl = \"api/v1/cases/\"\nconst tasksUrl = \"api/v1/tasks/\"\n\nexport {\n    baseUrl,\n    campaignsUrl,\n    chainsUrl,\n    taskstagesUrl,\n    webhookstagesUrl,\n    conditionalstagesUrl,\n    casesUrl,\n    tasksUrl\n}","import React, {useEffect, useRef, useState} from 'react';\nimport ReactFlow, {addEdge, Controls, FlowElement, ReactFlowProvider, Edge} from 'react-flow-renderer';\nimport {useHistory, useParams} from \"react-router-dom\";\nimport firebase from '../../util/Firebase'\nimport CustomLogicNode from '../nodes/LogicNode'\nimport CustomStageNode from '../nodes/StageNode'\nimport Sidebar from '../sidebar/Sidebar';\n\nimport '../../dnd.css';\nimport axios from '../../util/Axios';\nimport {conditionalstagesUrl, taskstagesUrl} from '../../util/Urls'\n\ntype RouterParams = { chainId: string, campaignId: string }\n\nconst DnDFlow = () => {\n    const reactFlowWrapper = useRef(null);\n    const history = useHistory();\n    const {chainId, campaignId} = useParams<RouterParams>();\n\n    const [reactFlowInstance, setReactFlowInstance] = useState(null);\n    const [elements, setElements] = useState<FlowElement[]>([]);\n\n    useEffect(() => {\n        const getStageNodes = () => {\n            return axios.get(taskstagesUrl)\n        };\n\n        const getLogicNodes = () => {\n            return axios.get(conditionalstagesUrl)\n        };\n\n        Promise.all([getStageNodes(), getLogicNodes()])\n            .then((results) => {\n                const stageNodes = results[0].data;\n                const logicNodes = results[1].data;\n                stageNodes.forEach((node: any) => node.type = \"STAGE\")\n                logicNodes.forEach((node: any) => node.type = \"LOGIC\")\n                const allNodes = [...stageNodes, ...logicNodes].filter((node: any) => node.chain == chainId)\n                const nodes: FlowElement[] = allNodes.map((node: any) => (\n                        {\n                            id: node.id.toString(),\n                            position: {x: parseFloat(node.x_pos), y: parseFloat(node.y_pos)},\n                            data: {label: node.name},\n                            type: node.type\n                        }\n                    )\n                )\n                setElements(nodes)\n                return allNodes\n            }).then(allNodes => {\n            allNodes.forEach(stage => {\n                if (stage.in_stages.length > 0) {\n                    stage.in_stages.forEach((sourceId: string | number) => {\n                        const edge = {\n                            source: sourceId.toString(),\n                            target: stage.id.toString(),\n                            id: `${sourceId}-${stage.id}`,\n                            arrowHeadType: \"arrow\"\n                        } as Edge\n                        setElements((els) => addEdge(edge, els))\n                    })\n                }\n            })\n        })\n    }, [])\n\n    const getNode = (id: string | number) => {\n        return elements.filter(node => node.id == id).pop()\n    }\n\n    const getTypeUrl = (node: FlowElement) => {\n        if (node.type == \"STAGE\") {\n            return taskstagesUrl\n        }\n        if (node.type == \"LOGIC\") {\n            return conditionalstagesUrl\n        }\n        return undefined\n    }\n\n    const onConnect = async (params: object) => {\n        const newParams: any = {...params, arrowHeadType: 'arrow'}\n        const targetNode = getNode(newParams.target)\n        const sourceNode = getNode(newParams.source)\n        const target = newParams.target\n        const source = newParams.source\n\n        setElements((els: FlowElement[]) => addEdge(newParams, els))\n\n        if (targetNode) {\n            const url = getTypeUrl(targetNode)\n            if (url) {\n                const connections = await axios.get(url + targetNode.id).then(res => res.data.in_stages).catch(err => undefined)\n                if (connections) {\n                    const parsed = connections.map((connection: string | number) => connection.toString())\n                    const data = {in_stages: [source, ...parsed]}\n                    axios.patch(url + targetNode.id, data)\n                }\n            }\n        }\n\n        if (sourceNode) {\n            const url = getTypeUrl(sourceNode)\n            if (url) {\n                const connections = await axios.get(url + sourceNode.id).then(res => res.data.out_stages).catch(err => undefined)\n                if (connections) {\n                    const parsed = connections.map((connection: string | number) => connection.toString())\n                    const data = {out_stages: [target, ...parsed]}\n                    axios.patch(url + sourceNode.id, data)\n                }\n            }\n        }\n    }\n\n    const removeConnections = async (target: string, source: string) => {\n        const targetNode = getNode(target)\n        const sourceNode = getNode(source)\n\n        if (targetNode) {\n            const url = getTypeUrl(targetNode)\n            if (url) {\n                let connections = await axios.get(url + targetNode.id).then(res => res.data.in_stages).catch(err => undefined)\n                if (connections) {\n                    let oldConnections = connections.map((connection: string | number) => connection.toString())\n                    let newConnections = oldConnections.filter((connection: string) => connection !== source)\n                    let data = {in_stages: newConnections}\n                    axios.patch(url + targetNode.id, data)\n                }\n            }\n        }\n        if (sourceNode) {\n            const url = getTypeUrl(sourceNode)\n            if (url) {\n                let connectionsOut = await axios.get(url + sourceNode.id).then(res => res.data.out_stages).catch(err => undefined)\n                if (connectionsOut) {\n                    let oldConnections = connectionsOut.map((connection: string | number) => connection.toString())\n                    let newConnections = oldConnections.filter((connection: string) => connection !== target)\n                    let data = {out_stages: newConnections}\n                    axios.patch(url + sourceNode.id, data)\n                }\n            }\n        }\n    }\n\n    const removeElements = (elementsToRemove: FlowElement[], elements: FlowElement[]) => {\n        let nodeIdsToRemove = elementsToRemove.map((n: any) => {\n            return n.id;\n        });\n\n        return elements.filter((element: any) => {\n            let edgeElement = element;\n            if (nodeIdsToRemove.includes(element.id) || nodeIdsToRemove.includes(edgeElement.target) || nodeIdsToRemove.includes(edgeElement.source)) {\n                if (element.hasOwnProperty('source') && element.hasOwnProperty('target')) {\n                    let target = element.target\n                    let source = element.source\n\n                    removeConnections(target, source)\n\n                } else {\n                    const url = getTypeUrl(element)\n                    if (url) {\n                        axios.delete(url + element.id)\n                    }\n                }\n                return false\n            } else {\n                return true\n            }\n        });\n    };\n\n    const onElementsRemove = (elementsToRemove: FlowElement[]) => {\n        setElements((els) => removeElements(elementsToRemove, els));\n    }\n\n    const onLoad = (_reactFlowInstance: any) =>\n        setReactFlowInstance(_reactFlowInstance);\n\n    const onDragOver = (event: any) => {\n        event.preventDefault();\n        event.dataTransfer.dropEffect = 'move';\n    };\n\n    const onDrop = async (event: any) => {\n        event.preventDefault();\n\n        // @ts-ignore\n        const reactFlowBounds = reactFlowWrapper.current.getBoundingClientRect();\n        const transfer = event.dataTransfer.getData('application/reactflow');\n        // @ts-ignore\n        const position = reactFlowInstance.project({\n            x: event.clientX - reactFlowBounds.left,\n            y: event.clientY - reactFlowBounds.top,\n        });\n\n        const parsedData = JSON.parse(transfer)\n        const label = parsedData.label\n        const type = parsedData.type\n\n        const id = await createNode({type, position, label})\n\n        let newNode = {\n            id,\n            type,\n            position,\n            data: {label},\n        };\n\n        setElements((es) => es.concat(newNode));\n    };\n\n    const onNodeDragStop = (event: any, node: any) => {\n        updateNode(node)\n    }\n\n    const updateNodeInFirebase = (node: any) => {\n        firebase.firestore().collection('flow').doc(node.id).set(node, {merge: true})\n    }\n\n    const updateNode = (node: any) => {\n        let x_pos = node.position.x\n        let y_pos = node.position.y\n        let data = {x_pos, y_pos}\n        const url = getTypeUrl(node)\n        if (url) {\n            axios.patch(url + node.id, data)\n        }\n    }\n\n    const createNode = async (node: any) => {\n        let data = {\n            name: node.label,\n            x_pos: node.position.x,\n            y_pos: node.position.y,\n            chain: parseInt(chainId),\n            out_stages: []\n        }\n\n        const url = getTypeUrl(node)\n        if (url) {\n            let res = await axios.post(url, data)\n            return res.data.id.toString()\n        }\n        return undefined;\n    }\n\n    const onElementDoubleClick = (event: any, element: any) => {\n        console.log(element)\n        let location = history.location.pathname\n        if (element.id) {\n            if (element.type === 'LOGIC') {\n                history.push(`${location}/createlogic/${element.id}`)\n            }\n            if (element.type === 'STAGE') {\n                // history.push('/createStage/' + element.id)\n                history.push(`${location}/actions/${element.id}`)\n            }\n            if (element.type === 'default' && (element.target || element.source)) {\n                console.log('edge')\n            }\n        }\n    }\n\n    const nodeTypes = {\n        LOGIC: CustomLogicNode,\n        STAGE: CustomStageNode\n    };\n\n\n    return (\n        <div className=\"dndflow\">\n            <ReactFlowProvider>\n                <div className=\"reactflow-wrapper\" ref={reactFlowWrapper}>\n                    <ReactFlow\n                        nodeTypes={nodeTypes}\n                        elements={elements}\n                        onConnect={onConnect}\n                        onElementsRemove={onElementsRemove}\n                        onNodeDoubleClick={onElementDoubleClick}\n                        onEdgeDoubleClick={onElementDoubleClick}\n                        onLoad={onLoad}\n                        onDrop={onDrop}\n                        onDragOver={onDragOver}\n                        onNodeDragStop={onNodeDragStop}\n                        style={{\n                            width: '100%',\n                            height: 700,\n                        }}\n                    >\n                        <Controls/>\n                    </ReactFlow>\n                </div>\n                <Sidebar/>\n            </ReactFlowProvider>\n        </div>\n    );\n};\n\nexport default DnDFlow;","import {Button} from '@material-ui/core'\nimport React, {useEffect, useState} from 'react'\nimport LinearProgressWithLabel from './LinearProgressWithLabel'\n\n\nconst CustomFileWidget = (props: any) => {\n    const [formData, setFormData] = useState({...props.formData})\n    const [files, setFiles] = useState<any>([])\n\n    useEffect(() => {\n        props.onChange(formData)\n    }, [formData])\n\n    const handleChange = (event: any) => {\n        const lFiles = [...event.target.files]\n        setFiles(lFiles)\n        // console.log(\"Files selected: \", file)\n        // var reader = new FileReader();\n        // reader.onload = function (event:any) {\n        //     // The file's text will be printed here\n        //     let blob = new Blob([new Uint8Array(event.target.result)], {type: file.type });\n        //     console.log(event.target.result)\n        //     console.log(blob)\n        // };\n        //\n        // reader.readAsDataURL(file);\n        // return (event: any) => {\n        //     setFormData(files)\n        // };\n    }\n\n    return (\n        <div>\n            <input\n                type=\"file\"\n                onChange={handleChange}\n                multiple={props.allowMultipleFiles}\n            />\n            {files.map((file: any, i: number) => {\n                <div key={`${file.filename}_${i}`}>\n                    <p>{file.filename}</p>\n                    <LinearProgressWithLabel value={file.progress}/>\n                </div>\n            })}\n        </div>\n\n    )\n}\n\nexport default CustomFileWidget","import React from 'react'\nimport Form from \"@rjsf/bootstrap-4\";\nimport {Button, TextField} from \"@material-ui/core\";\n\nimport CustomFileWidget from '../custom-widgets/file-widget/CustomFileWidget'\n\ntype FormProps = { jsonSchema: string, uiSchema: string, formResponses:any }\n\nconst Preview = ({jsonSchema, uiSchema, formResponses}: FormProps) => {\n    const json_schema = JSON.parse(jsonSchema)\n    const ui_schema = JSON.parse(uiSchema)\n    const stage_data = JSON.stringify({...formResponses, json_schema: json_schema, ui_schema: ui_schema})\n    const widgets = {file: CustomFileWidget};\n\n    const copyToClipboard = () => {\n        navigator.clipboard.writeText(stage_data).then(() => console.log(\"success\")).catch(err => alert(err))\n    }\n\n    return (\n        <div style={{width: '70%', minWidth: '400px', margin: '0 auto', display: 'block', padding: 10}}>\n            <Form\n                schema={json_schema}\n                uiSchema={ui_schema}\n                widgets={widgets}\n                onSubmit={(formData) => console.log(formData.formData)}\n            />\n            <br/>\n            <TextField\n                id=\"outlined-multiline-static\"\n                label=\"JSON\"\n                multiline\n                fullWidth\n                defaultValue=\"Default Value\"\n                variant=\"outlined\"\n                InputProps={{\n                    readOnly: true,\n                }}\n                value={jsonSchema}\n                style={{marginTop: 15, marginBottom: 15}}\n            />\n            <TextField\n                id=\"outlined-multiline-static\"\n                label=\"UI\"\n                multiline\n                fullWidth\n                defaultValue=\"Default Value\"\n                variant=\"outlined\"\n                InputProps={{\n                    readOnly: true,\n                }}\n                value={uiSchema}\n                style={{marginTop: 15, marginBottom: 30}}\n            />\n            <br/>\n            <Button onClick={copyToClipboard} variant={\"contained\"} color={\"primary\"} style={{marginBottom: 15}}>Copy FUL STAGE to Clipboard</Button>\n            <TextField\n                id=\"outlined-multiline-static\"\n                label=\"FULL STAGE\"\n                multiline\n                fullWidth\n                defaultValue=\"Default Value\"\n                variant=\"outlined\"\n                InputProps={{\n                    readOnly: true,\n                }}\n                value={stage_data}\n            />\n        </div>\n    )\n}\n\nexport default Preview","import React from 'react'\n\nconst CustomFileType = {\n        file: {\n            displayName: \"File\",\n            matchIf: [\n                {\n                    types: [\"string\"],\n                    widget: \"file\"\n                },\n            ],\n            defaultDataSchema: {},\n            defaultUiSchema: {\n                \"ui:widget\": \"file\"\n            },\n            type: \"string\",\n            // cardBody: (parameters: any, onChange: any) => <div>\n            //     {/*<h5>Multiple files</h5>*/}\n            //     {/*<input*/}\n            //     {/*    value={parameters.default}*/}\n            //     {/*    placeholder=\"File\"*/}\n            //     {/*    type=\"text\"*/}\n            //     {/*    onChange={(ev: any) =>*/}\n            //     {/*        onChange({...parameters, default: ev.target.value})*/}\n            //     {/*    }*/}\n            //     {/*/>*/}\n            //     {console.log(parameters)}\n            //     <input type=\"checkbox\" id=\"multiple\" name=\"horns\"\n            //            value={parameters.multiple}\n            //            onChange={(ev: any) =>\n            //                onChange({...parameters, multiple: ev.target.checked})\n            //            }\n            //     />\n            //     <label htmlFor=\"multiple\">Multiple files</label>\n            // </div>,\n            // modalBody: (parameters: any, onChange: any) => <div>\n            //     Extra editing options in modal appear hear\n            // </div>,\n        }\n};\n\nexport default CustomFileType","import React, {useEffect, useState} from \"react\";\n// @ts-ignore\nimport {FormBuilder} from '@ginkgo-bioworks/react-json-schema-form-builder';\nimport Form from \"@rjsf/bootstrap-4\";\nimport StageOptions from '../../json-schema/StageOptions_v2.json'\nimport {useParams} from \"react-router-dom\";\nimport {JSONSchema7} from \"json-schema\";\nimport PreviewStage from './PreviewStage'\nimport CustomFileType from '../custom-widgets/file-widget/CustomFileType'\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport axios from \"../../util/Axios\";\nimport {chainsUrl, taskstagesUrl} from \"../../util/Urls\";\nimport {IconButton} from \"@material-ui/core\";\nimport VisibilityIcon from '@material-ui/icons/Visibility';\nimport VisibilityOffIcon from '@material-ui/icons/VisibilityOff';\n\ntype RouterParams = { id: string, chainId: string }\ntype ChainProps = { id: number, name: string, description: string, campaign: number }\n\nconst Builder = () => {\n    let {id, chainId} = useParams<RouterParams>();\n\n    const [schema, setSchema] = useState('')\n    const [uiSchema, setUiSchema] = useState('')\n    const [optionsSchema, setOptionsSchema] = useState(StageOptions)\n    const [formResponses, setFormResponses] = useState({})\n    const [preview, setPreview] = useState(false)\n\n    useEffect(() => {\n        const getStage = () => {\n            axios.get(taskstagesUrl + id + '/')\n                .then(res => res.data)\n                .then(res => {\n                    const {id, json_schema, ui_schema, ...options} = res\n                    let parse_json_schema = JSON.stringify(json_schema)\n                    let parse_ui_schema = JSON.stringify(ui_schema)\n                    setSchema(parse_json_schema)\n                    setUiSchema(parse_ui_schema)\n                    setFormResponses(options)\n                })\n        }\n        if (id) {\n            getStage()\n        }\n    }, [id])\n\n    const handleSubmit = () => {\n        let json_schema = null\n        let ui_schema = null\n        if (schema && uiSchema) {\n            json_schema = JSON.parse(schema)\n            ui_schema = JSON.parse(uiSchema)\n        }\n\n        let data = {...formResponses, json_schema: json_schema, ui_schema: ui_schema}\n        console.log(data)\n\n        axios\n            .patch(taskstagesUrl + id + '/', data)\n            .then((res: any) => alert(\"Saved\"))\n            .catch((err: any) => alert(err));\n    }\n\n    const changePreviewMode = () => {\n        setPreview(p => !p)\n    }\n\n    return (\n        <div>\n            <IconButton style={{float: 'right'}} onClick={changePreviewMode}>\n                {!preview ?\n                    <VisibilityIcon fontSize={\"large\"}/>\n                    :\n                    <VisibilityOffIcon fontSize={\"large\"}/>\n                }\n\n            </IconButton>\n            {!preview ?\n                <div>\n                    <FormBuilder\n                        schema={schema}\n                        uischema={uiSchema}\n                        onChange={(newSchema: string, newUiSchema: string) => {\n                            setSchema(newSchema)\n                            setUiSchema(newUiSchema)\n                        }}\n                        mods={\n                            {\n                                customFormInputs: {...CustomFileType}\n                            }\n                        }\n                    />\n                    <div style={{width: '70%', minWidth: '400px', margin: '0 auto', display: 'block', padding: 10}}>\n                        <Form\n                            schema={optionsSchema as JSONSchema7}\n                            formData={formResponses}\n                            onChange={(e: { formData: object }) => setFormResponses(e.formData)}\n                            onSubmit={handleSubmit}\n                        />\n                    </div>\n                </div>\n                :\n                <PreviewStage jsonSchema={schema} uiSchema={uiSchema} formResponses={formResponses}/>\n            }\n        </div>\n    )\n}\n\nexport default Builder\n\n\n","import {retrieveSchema, toPathSchema, toIdSchema} from \"@rjsf/core/lib/utils\";\nimport _get from \"lodash/get\";\nimport _isEmpty from \"lodash/isEmpty\";\n\nconst getFormFields = (schema, formData = {}, uiSchema) => {\n    const retrievedSchema = retrieveSchema(\n        schema\n    );\n\n    const pathSchema = toPathSchema(\n        retrievedSchema,\n        \"\",\n        schema,\n        formData\n    );\n\n    // const idSchema = toIdSchema(\n    //   retrievedSchema,\n    //   uiSchema[\"ui:rootFieldId\"],\n    //   schema,\n    //   formData,\n    //   'root_newInput1_newInput1_test2'\n    // );\n    //\n    // console.log(idSchema)\n\n    const getFieldNames = (pathSchema, formData) => {\n        const getAllPaths = (_obj, acc = [], paths = [\"\"]) => {\n            Object.keys(_obj).forEach(key => {\n                if (typeof _obj[key] === \"object\") {\n                    let newPaths = paths.map(path => `${path}.${key}`);\n                    // If an object is marked with additionalProperties, all its keys are valid\n                    if (_obj[key].__rjsf_additionalProperties && _obj[key].$name !== \"\") {\n                        acc.push(_obj[key].$name);\n                    } else {\n                        getAllPaths(_obj[key], acc, newPaths);\n                    }\n                } else if (key === \"$name\" && _obj[key] !== \"\") {\n                    paths.forEach(path => {\n                        path = path.replace(/^\\./, \"\");\n                        const formValue = _get(formData, path);\n                        // adds path to fieldNames if it points to a value\n                        // or an empty object/array\n                        if (typeof formValue !== \"object\" || _isEmpty(formValue)) {\n                            acc.push(path);\n                        }\n                    });\n                }\n            });\n            return acc;\n        };\n\n        return getAllPaths(pathSchema);\n    };\n\n    const fieldNames = getFieldNames(pathSchema, formData);\n\n    return fieldNames\n}\n\nexport default getFormFields","import React, {useEffect, useState} from \"react\";\nimport firebase from '../../util/Firebase'\nimport Form from \"@rjsf/bootstrap-4\";\nimport {useParams} from \"react-router-dom\";\nimport {JSONSchema7} from \"json-schema\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport {Grid} from \"@material-ui/core\";\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport axios from '../../util/Axios'\nimport {conditionalstagesUrl, taskstagesUrl} from \"../../util/Urls\";\nimport GetFormFields from './GetFormFields'\n\ntype RouterParams = { id: string }\n\nconst Builder = () => {\n    const {id} = useParams<RouterParams>();\n\n    const [ready, setReady] = useState(false)\n    const [fields, setFields] = useState<string[]>([]);\n    const [schema, setSchema] = useState<{}>({})\n    const [uiSchema, setUiSchema] = useState({\n        logic_array: {\n            items: {\n                'ui:order': [\n                    'field',\n                    'condition',\n                    'value'\n                ]\n            }\n        },\n        'ui:order': [\n            'logic_array'\n        ]\n    })\n    const [formResponses, setFormResponses] = useState({})\n    const [connectedStages, setConnectedStages] = useState<any[]>()\n    const [isPingPong, setIsPingPong] = useState<boolean>(false)\n\n\n    useEffect(() => {\n        const getStage = (stageId?: number | string) => {\n            if (stageId) {\n                let taskStage = axios.get(taskstagesUrl + stageId + '/').then(res => res.data)\n                if (taskStage) {\n                    return taskStage\n                } else {\n                    return axios.get(conditionalstagesUrl + stageId + '/').then(res => res.data)\n                }\n            }\n            return axios.get(conditionalstagesUrl + id + '/').then(res => res.data)\n        }\n\n        const getConnectedStages = async (ids: number[]) => {\n            return ids.map(async connId => {\n                let stage = await getStage(connId)\n                return {[connId]: stage}\n            })\n        }\n\n        const getData = async () => {\n            let currentStage = await getStage()\n            setFormResponses(currentStage.conditions)\n\n            if (isPingPong) {\n                let connectedOutIds = currentStage.out_stages\n                let connOutStages = await getConnectedStages(connectedOutIds)\n                if (Object.keys(connOutStages).length > 0) {\n                    setReady(true)\n                }\n\n                Promise.all(connOutStages).then(res => {\n                    console.log(\"Out\", isPingPong, res)\n                    setConnectedStages(res)\n                })\n            } else {\n                let connectedIds = currentStage.in_stages\n                let connStages = await getConnectedStages(connectedIds)\n                if (Object.keys(connStages).length > 0) {\n                    setReady(true)\n                }\n\n                Promise.all(connStages).then(res => {\n                    console.log(\"In\",isPingPong, res)\n                    setConnectedStages(res)\n                })\n            }\n        }\n\n        if (id) {\n            getData()\n        }\n\n    }, [id, isPingPong])\n\n    useEffect(() => {\n        if (connectedStages && connectedStages.length > 0) {\n            console.log(connectedStages)\n            connectedStages.forEach(stageObject => {\n                let stage = Object.values(stageObject)[0] as any\n                let ui = stage.ui_schema\n                let sc = stage.json_schema\n                let fields = GetFormFields(sc, {})\n                setFields(fields)\n            })\n        }\n    }, [isPingPong, connectedStages])\n\n    useEffect(() => {\n        setSchema({\n            items: {\n                type: 'object',\n                title: 'Logic',\n                properties: {\n                    field: {\n                        enum: fields,\n                        title: 'Field',\n                        type: 'string'\n                    },\n                    condition: {\n                        enum: [\n                            '==',\n                            '!=',\n                            '>',\n                            '<',\n                            '>=',\n                            '<=',\n                            'ARRAY-CONTAINS',\n                            'ARRAY-CONTAINS-NOT'\n                        ],\n                        title: 'Condition',\n                        type: 'string'\n                    },\n                    value: {\n                        title: 'Value',\n                        type: 'string'\n                    }\n                },\n                dependencies: {},\n                required: []\n            },\n            title: 'Logic Array',\n            type: 'array',\n            dependencies: {},\n            required: []\n        })\n    }, [fields])\n\n    const handleSubmit = () => {\n        let data = {conditions: formResponses, is_ping_pong: isPingPong}\n        console.log(formResponses)\n\n        axios\n            .patch(conditionalstagesUrl + id + '/', data)\n            .then((res: any) => alert(\"Saved\"))\n            .catch((err: any) => alert(err));\n    }\n\n    const handleChangePingPong = (event: React.ChangeEvent<HTMLInputElement>) => {\n        setIsPingPong(event.target.checked);\n    }\n\n    return (\n        <div style={{width: '70%', minWidth: '400px', margin: '0 auto', display: 'block', padding: 10}}>\n            <FormControlLabel\n                value={isPingPong}\n                label=\"Ping Pong\"\n                control={<Checkbox onChange={handleChangePingPong}\n                                   color=\"primary\"/>}\n            />\n            {ready ?\n                <Form\n                    schema={schema as JSONSchema7}\n                    formData={formResponses}\n                    onChange={(e: { formData: object }) => setFormResponses(e.formData)}\n                    onSubmit={handleSubmit}/>\n                :\n                <p>No node connection or end_ui detected. Connect to one or check if form has fields.</p>}\n        </div>\n    )\n}\n\nexport default Builder\n\n\n","import React, {useEffect, useState} from \"react\";\nimport firebase from '../../util/Firebase'\nimport {\n    useHistory,\n    useParams\n} from \"react-router-dom\";\n\nimport {\n    Button,\n    FormControl,\n    Grid,\n    Select,\n    InputLabel,\n    MenuItem,\n    createStyles,\n    makeStyles,\n    Theme\n} from '@material-ui/core'\nimport axios from \"../../util/Axios\";\n\nimport {casesUrl, tasksUrl} from '../../util/Urls'\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        formControl: {\n            margin: theme.spacing(1),\n            minWidth: 150,\n        },\n        selectEmpty: {\n            marginTop: theme.spacing(2),\n        },\n    }));\n\ntype RouterParams = { id: string, chainId: string }\n\nconst Builder = () => {\n    let {id, chainId} = useParams<RouterParams>();\n    const history = useHistory();\n\n    const handleCreateStage = () => {\n        let location = history.location.pathname.split('/actions')[0]\n        console.log(location)\n        history.push(`${location}/createstage/${id}`)\n    }\n\n    const handleCreateTask = async () => {\n        let location = history.location.pathname.split('/actions')[0]\n        let caseData = await axios.post(casesUrl, {chain: chainId})\n            .then(res => res.data)\n        console.log(caseData)\n        let taskData = await axios.post(tasksUrl, {case: caseData.id, stage: id})\n            .then(res => res.data)\n        console.log(taskData)\n        history.push(`${location}/task/${taskData.id}`)\n    }\n\n    return (\n        <Grid>\n            <Grid container justify=\"center\" style={{background: '#7FB3D5'}} component={\"div\"}>\n                <Grid item style={{margin: 20}}>\n                    <Button onClick={handleCreateStage}>Create Form</Button>\n                </Grid>\n                <Grid item style={{margin: 20}}>\n                    <Button onClick={handleCreateTask}>Create Task (for test)</Button>\n                </Grid>\n            </Grid>\n        </Grid>\n    )\n}\n\nexport default Builder","import React, {useEffect, useState} from \"react\";\nimport Form from \"@rjsf/bootstrap-4\";\nimport {useParams} from \"react-router-dom\";\nimport axios from \"../../util/Axios\";\nimport {casesUrl, taskstagesUrl, tasksUrl} from '../../util/Urls'\n\ntype RouterParams = { id: string }\n\nconst Builder = () => {\n    const [schema, setSchema] = useState({})\n    const [uiSchema, setUiSchema] = useState({})\n    const [formResponses, setFormResponses] = useState({})\n    let {id} = useParams<RouterParams>();\n\n    useEffect(() => {\n        const getTask = () => {\n            return axios.get(tasksUrl + id).then(res => res.data)\n        }\n        const getStage = (stageId: string | number) => {\n            return axios.get(taskstagesUrl + stageId).then(res => res.data)\n        }\n        const setFormData = async () => {\n            let task = await getTask()\n            let stage = await getStage(task.stage)\n            console.log(task, stage)\n            setFormResponses(task.responses)\n            setSchema(stage.json_schema)\n            setUiSchema(stage.ui_schema)\n        }\n        if (id) {\n            setFormData()\n        }\n    }, [id])\n\n    const handleSubmit = () => {\n        console.log(formResponses)\n        let data = {responses: formResponses}\n        axios.patch(tasksUrl + id, data)\n        // .then(res => res.data)\n        // .then(res => {\n        //     console.log(res)\n        //     setFormResponses(res.responses)\n        //     setSchema(res.stage.json_schema)\n        //     setUiSchema(res.stage.ui_schema)\n        // })\n    }\n\n    return (\n        <div style={{width: '70%', minWidth: '400px', margin: '0 auto', display: 'block', padding: 10}}>\n            <Form schema={schema} uiSchema={uiSchema} formData={formResponses}\n                  onChange={(e) => setFormResponses(e.formData)} onSubmit={handleSubmit}/>\n        </div>\n    )\n}\n\n\nexport default Builder\n\n\n","import React, {useEffect, useState} from \"react\";\nimport firebase from \"./Firebase\";\n\nexport const AuthContext = React.createContext();\n\nexport const AuthProvider = ({children}) => {\n    const [currentUser, setCurrentUser] = useState(null);\n\n    useEffect(() => {\n        firebase.auth().onAuthStateChanged((user) => {\n            if (user) {\n                setCurrentUser(user)\n                user.getIdToken(true).then((idToken) => {\n                    localStorage.setItem(\"token\", idToken);\n                })\n            }\n        });\n        firebase.auth().onIdTokenChanged(user => {\n            if (user) {\n                user.getIdToken(false).then((idToken) => {\n                    localStorage.setItem(\"token\", idToken);\n                })\n            }\n        })\n    }, []);\n\n\n    return (\n        <AuthContext.Provider\n            value={{\n                currentUser\n            }}\n        >\n            {children}\n        </AuthContext.Provider>\n    );\n};\n","import React, {useContext, useState, useEffect} from 'react';\nimport clsx from 'clsx';\nimport {createStyles, makeStyles, Theme, useTheme} from '@material-ui/core/styles';\nimport Divider from '@material-ui/core/Divider';\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\nimport InboxIcon from '@material-ui/icons/MoveToInbox';\nimport MenuIcon from '@material-ui/icons/Menu'\n\nimport {\n    MenuItem,\n    Select,\n    FormControl,\n    InputLabel,\n    AppBar,\n    Button,\n    CssBaseline,\n    Drawer,\n    IconButton,\n    List,\n    ListItem,\n    ListItemIcon,\n    ListItemText,\n    Toolbar,\n    Typography\n} from \"@material-ui/core\";\nimport {signInWithGoogle, signOut} from '../../util/Firebase';\nimport {AuthContext} from \"../../util/Auth\";\nimport {useHistory, useParams} from \"react-router-dom\";\nimport axios from '../../util/Axios';\n\nimport {campaignsUrl} from '../../util/Urls';\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            display: 'flex',\n        },\n        appBar: {\n            zIndex: theme.zIndex.drawer + 1,\n            transition: theme.transitions.create(['width', 'margin'], {\n                easing: theme.transitions.easing.sharp,\n                duration: theme.transitions.duration.leavingScreen,\n            }),\n        },\n        appBarShift: {\n            marginLeft: drawerWidth,\n            width: `calc(100% - ${drawerWidth}px)`,\n            transition: theme.transitions.create(['width', 'margin'], {\n                easing: theme.transitions.easing.sharp,\n                duration: theme.transitions.duration.enteringScreen,\n            }),\n        },\n        menuButton: {\n            marginRight: 36,\n        },\n        hide: {\n            display: 'none',\n        },\n        drawer: {\n            width: drawerWidth,\n            flexShrink: 0,\n            whiteSpace: 'nowrap',\n        },\n        drawerOpen: {\n            width: drawerWidth,\n            transition: theme.transitions.create('width', {\n                easing: theme.transitions.easing.sharp,\n                duration: theme.transitions.duration.enteringScreen,\n            }),\n        },\n        drawerClose: {\n            transition: theme.transitions.create('width', {\n                easing: theme.transitions.easing.sharp,\n                duration: theme.transitions.duration.leavingScreen,\n            }),\n            overflowX: 'hidden',\n            width: theme.spacing(7) + 1,\n            [theme.breakpoints.up('sm')]: {\n                width: theme.spacing(9) + 1,\n            },\n        },\n        toolbar: {\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'flex-end',\n            padding: theme.spacing(0, 1),\n            // necessary for content to be below app bar\n            ...theme.mixins.toolbar,\n        },\n        content: {\n            flexGrow: 1,\n            // padding: theme.spacing(3),\n        },\n        title: {\n            flexGrow: 1\n        },\n        formControl: {\n            margin: theme.spacing(1),\n            alignItems: 'center'\n            // minWidth: 120,\n        },\n        selectEmpty: {\n            marginTop: theme.spacing(2),\n        },\n        select: {},\n        selectIcon: {\n            fill: 'white',\n            top: 'calc(50% - 14px)'\n        },\n    }),\n);\n\ntype AppbarProps = { children: React.ReactNode }\ntype CampaingParams = { id: number, name: string, description?: string };\n\nconst Appbar = (props: AppbarProps) => {\n    const classes = useStyles();\n    const theme = useTheme();\n    const history = useHistory();\n    const {campaignId} = useParams<{ campaignId: string }>();\n    const {currentUser} = useContext(AuthContext)\n    const {children} = props;\n\n    const [open, setOpen] = useState(false);\n    const [campaign, setCampaign] = useState<number | string | unknown>(campaignId);\n    const [allCampaigns, setAllCampaigns] = useState<CampaingParams[]>([])\n\n    console.log(\"CURRENT CAMPAIGN\", campaignId)\n\n    useEffect(() => {\n        axios.get(campaignsUrl)\n            .then(res => res.data)\n            .then(res => {\n                console.log(res)\n                setAllCampaigns(res)\n            })\n    }, [])\n\n    const handleDrawerOpen = () => {\n        setOpen(true);\n    };\n\n    const handleDrawerClose = () => {\n        setOpen(false);\n    };\n\n    const handleOptionClick = (page: string) => {\n        history.push(`/campaign/${campaignId}/${page}`)\n    };\n\n    const handleCampaignChange = (event: React.ChangeEvent<{ value: unknown }>) => {\n        let value = event.target.value;\n        console.log(value)\n        setCampaign(value)\n        history.push(`/campaign/${value}`)\n    }\n\n    return (\n        <div className={classes.root}>\n            <CssBaseline/>\n            <AppBar\n                position=\"fixed\"\n                className={clsx(classes.appBar, {\n                    [classes.appBarShift]: open,\n                })}\n            >\n                <Toolbar>\n                    <IconButton\n                        color=\"inherit\"\n                        aria-label=\"open drawer\"\n                        onClick={handleDrawerOpen}\n                        edge=\"start\"\n                        className={clsx(classes.menuButton, {\n                            [classes.hide]: open,\n                        })}\n                    >\n                        <MenuIcon/>\n                    </IconButton>\n                    <Typography className={classes.title} variant=\"h6\" noWrap>\n                        GigaTurnip Admin\n                    </Typography>\n                    <FormControl className={classes.formControl} size=\"small\">\n                        <Select\n                            className={classes.select}\n                            autoWidth\n                            labelId=\"campaign-select-label\"\n                            id=\"campaign-select-label\"\n                            value={campaign}\n                            onChange={handleCampaignChange}\n                            label=\"Campaign\"\n                            disableUnderline\n                            style={{color: 'white'}}\n                            inputProps={{\n                                classes: {\n                                    icon: classes.selectIcon,\n                                },\n                            }}\n                        >\n                            {allCampaigns.map(camp => <MenuItem key={`${camp.name}_${camp.id}`} value={camp.id}>{camp.name}</MenuItem>)}\n                        </Select>\n                    </FormControl>\n                    {currentUser ?\n                        <Button onClick={signOut} color={\"inherit\"}>\n                            Log out\n                        </Button>\n                        :\n                        <Button onClick={signInWithGoogle} color={\"inherit\"}>\n                            Login\n                        </Button>\n                    }\n                </Toolbar>\n            </AppBar>\n            <Drawer\n                variant=\"permanent\"\n                className={clsx(classes.drawer, {\n                    [classes.drawerOpen]: open,\n                    [classes.drawerClose]: !open,\n                })}\n                classes={{\n                    paper: clsx({\n                        [classes.drawerOpen]: open,\n                        [classes.drawerClose]: !open,\n                    }),\n                }}\n            >\n                <div className={classes.toolbar}>\n                    <IconButton onClick={handleDrawerClose}>\n                        {theme.direction === 'rtl' ? <ChevronRightIcon/> : <ChevronLeftIcon/>}\n                    </IconButton>\n                </div>\n                <Divider/>\n                <List>\n                    <ListItem button onClick={() => handleOptionClick(\"chain\")}>\n                        <ListItemIcon><InboxIcon/></ListItemIcon>\n                        <ListItemText primary={\"Chains\"}/>\n                    </ListItem>\n                </List>\n            </Drawer>\n            <main className={classes.content}>\n                <div className={classes.toolbar}/>\n                {children}\n            </main>\n        </div>\n    );\n}\n\nexport default Appbar\n","import React from 'react';\nimport {makeStyles} from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport {useHistory} from \"react-router-dom\";\n\nconst useStyles = makeStyles({\n    root: {\n        width: 300,\n        // height: 200\n    },\n    extra: {\n        marginBottom: 15\n    }\n});\n\ntype CardProps = { chain: { id: number, campaign: number, name: string, description?: string } }\n\nconst ChainCard = (props: CardProps) => {\n    const classes = useStyles();\n    const {id, campaign, name, description} = props.chain;\n    const history = useHistory()\n\n    const handleOpen = () => {\n        history.push(`${history.location.pathname}/${id}`)\n    }\n\n    return (\n        <Card className={classes.root}>\n            <CardContent>\n                <Typography variant=\"h5\" component=\"h2\" gutterBottom={true}>\n                    {name}\n                </Typography>\n                <Typography className={classes.extra} variant=\"subtitle2\" color=\"textSecondary\">\n                    ID: {id} Campaign: {campaign}\n                </Typography>\n                <Typography variant=\"body1\" component=\"p\">\n                    {description ? description : <br/>}\n                </Typography>\n            </CardContent>\n            <CardActions>\n                <Button size=\"small\" onClick={handleOpen}>Open</Button>\n            </CardActions>\n        </Card>\n    );\n};\n\nexport default ChainCard","import React, {useState} from 'react';\nimport {makeStyles} from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Dialog from '@material-ui/core/Dialog';\nimport {blue} from '@material-ui/core/colors';\nimport {DialogActions, DialogContent, Grid, TextField} from \"@material-ui/core\";\nimport {NewChainParams} from \"./Chains\";\nimport { useParams } from 'react-router-dom';\n\n\nconst useStyles = makeStyles({\n    avatar: {\n        backgroundColor: blue[100],\n        color: blue[600],\n    },\n});\n\ntype ChainDialogProps = {\n    open: boolean;\n    onClose: () => void;\n    onSave: (data: NewChainParams) => void;\n}\n\ntype RouterParams = {campaignId: string}\n\nconst AddChainDialog = (props: ChainDialogProps) => {\n    const classes = useStyles();\n    const {campaignId} = useParams<RouterParams>();\n\n    const {onClose, onSave, open} = props;\n\n    const [name, setName] = useState('');\n    const [description, setDescription] = useState('');\n    const [campaign, setCampaign] = useState(campaignId)\n\n    const handleClose = () => {\n        onClose();\n    };\n\n    const handleSave = () => {\n        if (name && campaign) {\n            let parsedCampaign = parseInt(campaign)\n            let data = {name, description, campaign: parsedCampaign}\n            onSave(data)\n        }\n    }\n\n    const handleNameChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n        let value = event.target.value\n        if (value) {\n            setName(value)\n        }\n        else {\n            setName('')\n        }\n    };\n\n    const handleDescriptionChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n        let value = event.target.value\n        if (value) {\n            setDescription(value)\n        }\n        else {\n            setDescription('')\n        }\n    };\n\n    return (\n        <Dialog onClose={handleClose} aria-labelledby=\"simple-dialog-title\" open={open}>\n            <DialogTitle>Add Chain</DialogTitle>\n            <DialogContent>\n                <Grid container justify={\"center\"}>\n                    <Grid container item><TextField fullWidth label={\"Name\"} onChange={handleNameChange}/></Grid>\n                    <Grid container item>\n                        <TextField fullWidth label={\"Description\"} multiline rows={4} onChange={handleDescriptionChange}/>\n                    </Grid>\n                </Grid>\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={handleSave}>Save</Button>\n                <Button onClick={handleClose}>Close</Button>\n            </DialogActions>\n        </Dialog>\n    );\n};\n\nexport default AddChainDialog","import React, {useEffect, useState} from \"react\";\nimport {\n    useHistory,\n    useParams\n} from \"react-router-dom\";\nimport axios from \"../../util/Axios\";\nimport {Button, Grid, Typography} from \"@material-ui/core\";\nimport Card from \"./ChainCard\";\nimport AddIcon from '@material-ui/icons/Add';\nimport AddChainDialog from \"./Dialog\";\nimport {chainsUrl} from '../../util/Urls'\n\ntype RouterParams = {campaignId: string}\ntype ChainParams = { id: number, campaign: number, name: string, description?: string };\nexport type NewChainParams = { campaign: number, name: string, description?: string }\n\nconst Builder = () => {\n    const [chains, setChains] = useState<ChainParams[]>([])\n    const [open, setOpen] = useState(false);\n    const {campaignId} = useParams<RouterParams>()\n\n    useEffect(() => {\n        axios.get(chainsUrl)\n            .then(res => res.data)\n            .then(res => {\n                console.log(res)\n                const filtered = res.filter((chain: {campaign: number, name: string, description: string, id: number}) => chain.campaign?.toString() == campaignId)\n                setChains(filtered)\n            })\n    }, [])\n\n    const handleClickOpen = () => {\n        setOpen(true);\n    };\n\n    const handleClose = () => {\n        setOpen(false);\n    };\n\n    const handleDialogSave = (data: NewChainParams) => {\n        setOpen(false);\n        handleAddChain(data)\n    }\n\n    const handleAddChain = (data: NewChainParams) => {\n        console.log(data)\n        axios.post(chainsUrl, data)\n            .then(res => {\n                console.log(res)\n                window.location.reload(false);\n            })\n    };\n\n    return (\n        <Grid container justify={\"center\"}>\n            <AddChainDialog open={open} onSave={handleDialogSave} onClose={handleClose}/>\n            <Grid container style={{padding: 20}}>\n                <Button variant={\"contained\"} color={\"primary\"} startIcon={<AddIcon/>} onClick={handleClickOpen}>Add Chain</Button>\n            </Grid>\n            {chains.map(chain => (\n                <Grid item style={{padding: 10}}>\n                    <Card key={chain.id} chain={chain}/>\n                </Grid>\n            ))}\n        </Grid>\n    )\n}\n\nexport default Builder\n\n\n","import React from 'react';\nimport {makeStyles} from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport {useHistory} from \"react-router-dom\";\n\nconst useStyles = makeStyles({\n    root: {\n        width: 300,\n        // height: 200\n    },\n    extra: {\n        marginBottom: 15\n    }\n});\n\ntype CardProps = { chain: { id: number, name: string, description?: string } }\n\nconst ChainCard = (props: CardProps) => {\n    const classes = useStyles();\n    const {id, name, description} = props.chain;\n    const history = useHistory()\n\n    const handleOpen = () => {\n        history.push(`/campaign/${id}`)\n    }\n\n    return (\n        <Card className={classes.root}>\n            <CardContent>\n                <Typography variant=\"h5\" component=\"h2\" gutterBottom={true}>\n                    {name}\n                </Typography>\n                <Typography className={classes.extra} variant=\"subtitle2\" color=\"textSecondary\">\n                    ID: {id}\n                </Typography>\n                <Typography variant=\"body1\" component=\"p\">\n                    {description ? description : <br/>}\n                </Typography>\n            </CardContent>\n            <CardActions>\n                <Button size=\"small\" onClick={handleOpen}>Open</Button>\n            </CardActions>\n        </Card>\n    );\n};\n\nexport default ChainCard","import React, {useState} from 'react';\nimport {makeStyles} from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Dialog from '@material-ui/core/Dialog';\nimport {blue} from '@material-ui/core/colors';\nimport {DialogActions, DialogContent, Grid, TextField} from \"@material-ui/core\";\n\n\nconst useStyles = makeStyles({\n    avatar: {\n        backgroundColor: blue[100],\n        color: blue[600],\n    },\n});\n\ntype ChainDialogProps = {\n    open: boolean;\n    onClose: () => void;\n    onSave: (data: any) => void;\n}\n\nconst AddCampaignDialog = (props: ChainDialogProps) => {\n    const classes = useStyles();\n    const {onClose, onSave, open} = props;\n    const [name, setName] = useState('');\n    const [description, setDescription] = useState('');\n    const [campaign, setCampaign] = useState<number>();\n\n    const handleClose = () => {\n        onClose();\n    };\n\n    const handleSave = () => {\n        if (name) {\n            let data = {name, description, campaign}\n            onSave(data)\n        }\n        else {\n            alert('error: No name')\n        }\n    }\n\n    const handleNameChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n        let value = event.target.value\n        if (value) {\n            setName(value)\n        }\n        else {\n            setName('')\n        }\n    };\n\n    const handleDescriptionChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n        let value = event.target.value\n        if (value) {\n            setDescription(value)\n        }\n        else {\n            setDescription('')\n        }\n    };\n\n    return (\n        <Dialog onClose={handleClose} aria-labelledby=\"simple-dialog-title\" open={open}>\n            <DialogTitle>Add Chain</DialogTitle>\n            <DialogContent>\n                <Grid container justify={\"center\"}>\n                    <Grid container item><TextField fullWidth label={\"Name\"} onChange={handleNameChange}/></Grid>\n                    <Grid container item>\n                        <TextField fullWidth label={\"Description\"} multiline rows={4} onChange={handleDescriptionChange}/>\n                    </Grid>\n                </Grid>\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={handleSave}>Save</Button>\n                <Button onClick={handleClose}>Close</Button>\n            </DialogActions>\n        </Dialog>\n    );\n};\n\nexport default AddCampaignDialog","import React, {useEffect, useState} from \"react\";\nimport axios from \"../../util/Axios\";\nimport {Button, Grid} from \"@material-ui/core\";\nimport Card from \"./CampaignCard\";\nimport AddIcon from '@material-ui/icons/Add';\nimport AddChainDialog from \"./Dialog\";\nimport {campaignsUrl} from \"../../util/Urls\"\n\ntype CampaingParams = { id: number, name: string, description?: string };\nexport type NewCampaignParams = { name: string, description?: string }\n\nconst Builder = () => {\n    const [campaigns, setCampaigns] = useState<CampaingParams[]>([])\n    const [open, setOpen] = useState(false);\n\n    useEffect(() => {\n        axios.get(campaignsUrl)\n            .then(res => res.data)\n            .then(res => {\n                console.log(res)\n                setCampaigns(res)\n            })\n    }, [])\n\n    const handleClickOpen = () => {\n        setOpen(true);\n    };\n\n    const handleClose = () => {\n        setOpen(false);\n    };\n\n    const handleDialogSave = (data: NewCampaignParams) => {\n        setOpen(false);\n        handleCampaignAdd(data)\n    }\n\n    const handleCampaignAdd = (data: NewCampaignParams) => {\n        axios.post(campaignsUrl, data)\n            .then(res => {\n                console.log(res)\n                window.location.reload(false);\n            })\n    };\n\n    return (\n        <Grid container justify={\"center\"}>\n            <AddChainDialog open={open} onSave={handleDialogSave} onClose={handleClose}/>\n            <Grid container style={{padding: 20}}>\n                <Button variant={\"contained\"} color={\"primary\"} startIcon={<AddIcon/>} onClick={handleClickOpen}>Add Campaign</Button>\n            </Grid>\n            {campaigns.map(campaign => (\n                <Grid item style={{padding: 10}}>\n                    <Card key={campaign.id} chain={campaign}/>\n                </Grid>\n            ))}\n        </Grid>\n    )\n}\n\nexport default Builder\n\n\n","import React, {useContext} from 'react';\nimport clsx from 'clsx';\nimport {createStyles, makeStyles, Theme, useTheme} from '@material-ui/core/styles';\nimport {AppBar, Button, CssBaseline, Toolbar, Typography} from \"@material-ui/core\";\nimport {signInWithGoogle, signOut} from '../../util/Firebase';\nimport {AuthContext} from \"../../util/Auth\";\nimport {useHistory, useParams} from \"react-router-dom\";\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            display: 'flex',\n        },\n        appBar: {\n            zIndex: theme.zIndex.drawer + 1,\n            transition: theme.transitions.create(['width', 'margin'], {\n                easing: theme.transitions.easing.sharp,\n                duration: theme.transitions.duration.leavingScreen,\n            }),\n        },\n        appBarShift: {\n            marginLeft: drawerWidth,\n            width: `calc(100% - ${drawerWidth}px)`,\n            transition: theme.transitions.create(['width', 'margin'], {\n                easing: theme.transitions.easing.sharp,\n                duration: theme.transitions.duration.enteringScreen,\n            }),\n        },\n        menuButton: {\n            marginRight: 36,\n        },\n        hide: {\n            display: 'none',\n        },\n        drawer: {\n            width: drawerWidth,\n            flexShrink: 0,\n            whiteSpace: 'nowrap',\n        },\n        drawerOpen: {\n            width: drawerWidth,\n            transition: theme.transitions.create('width', {\n                easing: theme.transitions.easing.sharp,\n                duration: theme.transitions.duration.enteringScreen,\n            }),\n        },\n        drawerClose: {\n            transition: theme.transitions.create('width', {\n                easing: theme.transitions.easing.sharp,\n                duration: theme.transitions.duration.leavingScreen,\n            }),\n            overflowX: 'hidden',\n            width: theme.spacing(7) + 1,\n            [theme.breakpoints.up('sm')]: {\n                width: theme.spacing(9) + 1,\n            },\n        },\n        toolbar: {\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'flex-end',\n            padding: theme.spacing(0, 1),\n            // necessary for content to be below app bar\n            ...theme.mixins.toolbar,\n        },\n        content: {\n            flexGrow: 1,\n            // padding: theme.spacing(3),\n        },\n        title: {\n            flexGrow: 1\n        }\n    }),\n);\n\ntype AppbarProps = { children: React.ReactNode }\n\nconst Appbar = (props: AppbarProps) => {\n    const classes = useStyles();\n    const theme = useTheme();\n    const [open, setOpen] = React.useState(false);\n    const {children} = props;\n    const {currentUser} = useContext(AuthContext)\n    const history = useHistory();\n    const {campaignId} = useParams<{campaignId: string}>();\n\n    console.log(campaignId)\n\n    const handleDrawerOpen = () => {\n        setOpen(true);\n    };\n\n    const handleDrawerClose = () => {\n        setOpen(false);\n    };\n\n    const handleOptionClick = (page: string) => {\n        history.push(`/campaign/${campaignId}/${page}`)\n    };\n\n    return (\n        <div className={classes.root}>\n            <CssBaseline/>\n            <AppBar\n                position=\"fixed\"\n                className={clsx(classes.appBar, {\n                    [classes.appBarShift]: open,\n                })}\n            >\n                <Toolbar>\n                    <Typography className={classes.title} variant=\"h6\" noWrap>\n                        GigaTurnip Admin\n                    </Typography>\n                    {currentUser ?\n                        <Button onClick={signOut} color={\"inherit\"}>\n                            Log out\n                        </Button>\n                        :\n                        <Button onClick={signInWithGoogle} color={\"inherit\"}>\n                            Login\n                        </Button>\n                    }\n                </Toolbar>\n            </AppBar>\n            <main className={classes.content}>\n                <div className={classes.toolbar}/>\n                {children}\n            </main>\n        </div>\n    );\n}\n\nexport default Appbar\n","import React, {useContext} from \"react\";\nimport Graph from './components/graph/Graph'\nimport StageBuilder from './components/form-builders/StageBuilder'\nimport LogicBuilder from './components/form-builders/LogicBuilder'\nimport Actions from './components/actions/Actions'\nimport Task from './components/task/Task'\nimport Appbar from \"./components/appbar/Appbar\";\n\nimport {HashRouter as Router, Route, Switch} from \"react-router-dom\";\n\nimport {AuthContext} from \"./util/Auth\";\nimport Chains from \"./components/chains/Chains\";\nimport Campaigns from \"./components/campaigns/Campaigns\";\nimport SimpleAppbar from \"./components/appbar/SimpleAppbar\";\n\n\nconst App = () => {\n    const {currentUser} = useContext(AuthContext)\n\n    return (\n        <div>\n            <Router>\n                <Switch>\n                    <Route path={\"/campaign/:campaignId\"}>\n                        <Appbar>\n                            <Route exact path=\"/campaign/:campaignId/chain/:chainId/createstage/:id\">\n                                <StageBuilder/>\n                            </Route>\n                            <Route exact path=\"/campaign/:campaignId/chain/:chainId/createlogic/:id\">\n                                <LogicBuilder/>\n                            </Route>\n                            <Route exact path=\"/campaign/:campaignId/chain/:chainId/task/:id\">\n                                <Task/>\n                            </Route>\n                            <Route exact path=\"/campaign/:campaignId/chain/:chainId/actions/:id\">\n                                <Actions/>\n                            </Route>\n                            <Route exact path=\"/campaign/:campaignId/chain\">\n                                <Chains/>\n                            </Route>\n                            <Route exact path=\"/campaign/:campaignId/chain/:chainId\">\n                                <Graph/>\n                            </Route>\n                        </Appbar>\n                    </Route>\n                    <Route path=\"/\">\n                        <SimpleAppbar>\n                            <Campaigns/>\n                        </SimpleAppbar>\n                    </Route>\n                </Switch>\n            </Router>\n\n        </div>\n    );\n}\n\nexport default App","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport {AuthProvider} from \"./util/Auth\";\n\nReactDOM.render(\n    // <React.StrictMode>\n    <AuthProvider>\n        <App/>\n    </AuthProvider>,\n    // </React.StrictMode>,\n    document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}